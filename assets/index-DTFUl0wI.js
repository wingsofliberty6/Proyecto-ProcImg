(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const c=document.querySelectorAll("a-nft");c.forEach(o=>{o.addEventListener("markerFound",()=>{console.log(`ðŸ“Œ Marcador detectado: ${o.id}`),s(o,!0)}),o.addEventListener("markerLost",()=>{console.log(`âŒ Marcador perdido: ${o.id}`),s(o,!1)})});function s(o,n){o.querySelectorAll("*").forEach(r=>{if(r.setAttribute("visible",n),r.tagName==="A-VIDEO"){const e=r.getObject3D("mesh");if(e&&e.material&&e.material.map){const t=e.material.map.image;t&&(n?t.play().catch(d=>{console.warn("âš  No se pudo reproducir el video:",d)}):t.pause())}}})}document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("thumb-btn-img"),n=document.getElementById("thumb-btn-vid"),i=document.getElementById("media-modal"),r=document.getElementById("modal-body"),e=document.querySelector(".close-modal");o&&o.addEventListener("click",()=>{const t=o.dataset.src;r.innerHTML=`<img src="${t}" alt="Imagen ampliada">`,i.classList.remove("hidden")}),n&&n.addEventListener("click",()=>{const t=n.dataset.src;r.innerHTML=`
        <video src="${t}" controls autoplay style="max-width:100%; max-height:80vh; border-radius:10px;"></video>
      `,i.classList.remove("hidden")}),e&&e.addEventListener("click",()=>{i.classList.add("hidden"),r.innerHTML=""}),i&&i.addEventListener("click",t=>{t.target===i&&(i.classList.add("hidden"),r.innerHTML="")})});

(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();function m(i,r){i.querySelectorAll("a-entity, a-plane, a-video, a-image").forEach(e=>{r?(e.setAttribute("visible",!0),e.emit("showContent")):(e.emit("showContent",null,!1),setTimeout(()=>{i.isMarkerVisible||e.setAttribute("visible",!1)},700))});const s=i.querySelector("a-video");if(s){const e=s.getObject3D("mesh").material.map.image;e&&(r?e.paused&&e.play().catch(t=>console.error(`Error al iniciar reproducciÃ³n en
          ${i.id}:`,t)):e.paused||(e.pause(),e.currentTime=0))}videoElement.paused&&setTimeout(()=>{videoElement.play().catch(e=>console.error(`Error al iniciar reproducciÃ³n en ${i.id}:`,e))},100)}document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("Alm-Marker"),r=document.getElementById("Arg-Marker"),o=document.getElementById("Can-Marker"),s=document.getElementById("Jap-Marker"),e=document.getElementById("Mex-Marker"),t=[i,r,o,s,e].filter(n=>n),d=document.getElementById("filter-btn"),l=document.getElementById("filter-overlay"),a=["","filter-cold","filter-warm"];let c=0;d&&l?d.addEventListener("click",()=>{const n=a[c];n&&l.classList.remove(n),c=(c+1)%a.length;const u=a[c];u&&l.classList.add(u),d.textContent=`ðŸŽ¨ Filtro: ${u||"Ninguno"}`}):console.warn("Falta el botÃ³n de filtro o la capa de superposiciÃ³n en el DOM."),t.forEach(n=>{n&&(n.isMarkerVisible=!1,n.addEventListener("markerFound",()=>{console.log(`âœ… Marcador ${n.id} detectado.`),n.isMarkerVisible=!0,m(n,!0)}),n.addEventListener("markerLost",()=>{console.log(`âŒ Marcador ${n.id} perdido.`),n.isMarkerVisible=!1,m(n,!1)}))})});document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("thumb-btn-img"),r=document.getElementById("thumb-btn-vid"),o=document.getElementById("media-modal"),s=document.getElementById("modal-body"),e=document.querySelector(".close-modal");i&&i.addEventListener("click",()=>{const t=i.dataset.src;s.innerHTML=`<img src="${t}" alt="Imagen ampliada">`,o.classList.remove("hidden")}),r&&r.addEventListener("click",()=>{const t=r.dataset.src;s.innerHTML=`
        <video src="${t}" controls autoplay style="max-width:100%; max-height:80vh; border-radius:10px;"></video>
      `,o.classList.remove("hidden")}),e&&e.addEventListener("click",()=>{o.classList.add("hidden"),s.innerHTML=""}),o&&o.addEventListener("click",t=>{t.target===o&&(o.classList.add("hidden"),s.innerHTML="")})});

(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();function g(s,r){s.querySelectorAll("a-entity, a-plane, a-video, a-image").forEach(e=>{r?(e.setAttribute("visible",!0),e.emit("showContent")):(e.emit("showContent",null,!1),setTimeout(()=>{s.isMarkerVisible||e.setAttribute("visible",!1)},700))});const i=s.querySelector("a-video");if(i){const e=i.getObject3D("mesh").material.map.image;e&&(r?e.paused&&e.play().catch(t=>console.error(`Error al iniciar reproducciÃ³n en
          ${s.id}:`,t)):e.paused||(e.pause(),e.currentTime=0))}}document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("Alm-Marker"),r=document.getElementById("Arg-Marker"),o=document.getElementById("Can-Marker"),i=document.getElementById("Jap-Marker"),e=document.getElementById("Mex-Marker"),t=[s,r,o,i,e].filter(n=>n);document.getElementById("ar-video-player");const d=document.getElementById("filter-btn"),a=document.getElementById("filter-overlay"),c=document.getElementById("Hiro-Test-Marker"),u=document.getElementById("hiro-model");c&&u&&(c.addEventListener("markerFound",()=>{console.log("âœ… Marcador HIRO de PRUEBA detectado. Sistema AR funcional."),u.setAttribute("visible",!0)}),c.addEventListener("markerLost",()=>{console.log("âŒ Marcador HIRO de PRUEBA perdido."),u.setAttribute("visible",!1)}));const m=["","filter-cold","filter-warm"];let l=0;d&&a?d.addEventListener("click",()=>{const n=m[l];n&&a.classList.remove(n),l=(l+1)%m.length;const f=m[l];f&&a.classList.add(f),d.textContent=`ðŸŽ¨ Filtro: ${f||"Ninguno"}`}):console.warn("Falta el botÃ³n de filtro o la capa de superposiciÃ³n en el DOM."),t.forEach(n=>{n&&(n.isMarkerVisible=!1,n.addEventListener("markerFound",()=>{console.log(`âœ… Marcador ${n.id} detectado.`),n.isMarkerVisible=!0,g(n,!0)}),n.addEventListener("markerLost",()=>{console.log(`âŒ Marcador ${n.id} perdido.`),n.isMarkerVisible=!1,g(n,!1)}))})});document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("thumb-btn-img"),r=document.getElementById("thumb-btn-vid"),o=document.getElementById("media-modal"),i=document.getElementById("modal-body"),e=document.querySelector(".close-modal");s&&s.addEventListener("click",()=>{const t=s.dataset.src;i.innerHTML=`<img src="${t}" alt="Imagen ampliada">`,o.classList.remove("hidden")}),r&&r.addEventListener("click",()=>{const t=r.dataset.src;i.innerHTML=`
        <video src="${t}" controls autoplay style="max-width:100%; max-height:80vh; border-radius:10px;"></video>
      `,o.classList.remove("hidden")}),e&&e.addEventListener("click",()=>{o.classList.add("hidden"),i.innerHTML=""}),o&&o.addEventListener("click",t=>{t.target===o&&(o.classList.add("hidden"),i.innerHTML="")})});

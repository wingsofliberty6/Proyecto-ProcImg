(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();function m(s,r){s.querySelectorAll("a-entity, a-plane, a-video, a-image").forEach(e=>{r?(e.setAttribute("visible",!0),e.emit("showContent")):(e.emit("showContent",null,!1),setTimeout(()=>{s.isMarkerVisible||e.setAttribute("visible",!1)},700))});const o=s.querySelector("a-video");if(o){const e=o.getObject3D("mesh").material.map.image;e&&(r?e.paused&&e.play().catch(t=>console.error(`Error al iniciar reproducciÃ³n en
          ${s.id}:`,t)):e.paused||(e.pause(),e.currentTime=0))}}document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("Alm-Marker"),r=document.getElementById("Arg-Marker"),i=document.getElementById("Can-Marker"),o=document.getElementById("Jap-Marker"),e=document.getElementById("Mex-Marker"),t=[s,r,i,o,e].filter(n=>n);document.getElementById("ar-video-player");const d=document.getElementById("filter-btn"),c=document.getElementById("filter-overlay"),a=["","filter-cold","filter-warm"];let l=0;d&&c?d.addEventListener("click",()=>{const n=a[l];n&&c.classList.remove(n),l=(l+1)%a.length;const u=a[l];u&&c.classList.add(u),d.textContent=`ðŸŽ¨ Filtro: ${u||"Ninguno"}`}):console.warn("Falta el botÃ³n de filtro o la capa de superposiciÃ³n en el DOM."),t.forEach(n=>{n&&(n.isMarkerVisible=!1,n.addEventListener("markerFound",()=>{console.log(`âœ… Marcador ${n.id} detectado.`),n.isMarkerVisible=!0,m(n,!0)}),n.addEventListener("markerLost",()=>{console.log(`âŒ Marcador ${n.id} perdido.`),n.isMarkerVisible=!1,m(n,!1)}))})});document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("thumb-btn-img"),r=document.getElementById("thumb-btn-vid"),i=document.getElementById("media-modal"),o=document.getElementById("modal-body"),e=document.querySelector(".close-modal");s&&s.addEventListener("click",()=>{const t=s.dataset.src;o.innerHTML=`<img src="${t}" alt="Imagen ampliada">`,i.classList.remove("hidden")}),r&&r.addEventListener("click",()=>{const t=r.dataset.src;o.innerHTML=`
        <video src="${t}" controls autoplay style="max-width:100%; max-height:80vh; border-radius:10px;"></video>
      `,i.classList.remove("hidden")}),e&&e.addEventListener("click",()=>{i.classList.add("hidden"),o.innerHTML=""}),i&&i.addEventListener("click",t=>{t.target===i&&(i.classList.add("hidden"),o.innerHTML="")})});
